{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/main.js","webpack:///./src/mocks/comment.js","webpack:///./src/mocks/filters.js","webpack:///./src/mocks/generate-film-card.js","webpack:///./src/presenter/film.js","webpack:///./src/presenter/movie-list.js","webpack:///./src/templates/abstract.js","webpack:///./src/templates/comment.js","webpack:///./src/templates/film-card.js","webpack:///./src/templates/menu.js","webpack:///./src/templates/pop-up.js","webpack:///./src/templates/show-more-btn.js","webpack:///./src/templates/sort.js","webpack:///./src/templates/status.js","webpack:///./src/utils/common.js","webpack:///./src/utils/get-status.js","webpack:///./src/utils/render.js"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgE;;AAErB;AAC3C;AACA;AACA;AACA;AAC2C;AACO;AACa;AACjB;;;AAG9C;AACA;AACA,gDAAgD,6EAAgB;AAChE;AACA;AACA,gBAAgB,oEAAU;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,gEAAS;AAC/B;AACA,sEAAa,wBAAwB,4DAAM,wBAAwB,+DAAc;AACjF,sEAAa,sBAAsB,0DAAQ,wBAAwB,+DAAc;AACjF;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;;;;;;;;;;;;;;;;AC5GoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,yEAAgB;AAC7C,iBAAiB,yEAAgB;AACjC,oBAAoB,yEAAgB;AACpC;AACA;AACA;;AAEO;AACP;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;;;;;;;;;;;;;ACnDA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAA2E;AAClC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,yEAAgB;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,yEAAgB;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,yEAAgB;AAC5C;;AAEA,iBAAiB,uBAAuB;AACxC,8BAA8B,yEAAgB;AAC9C;;AAEA;AACA;;AAEA;AACA,SAAS,8EAAqB;AAC9B;;AAEA;AACA,SAAS,yEAAgB;AACzB;;AAEA;AACA,gBAAgB,yEAAgB;AAChC,kBAAkB,yEAAgB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,yEAAgB;AACzC;AACA,iBAAiB,oBAAoB;AACrC,yBAAyB,yEAAgB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,yEAAgB;AACnC;;AAEA;AACA;AACA;AACA,qDAAqD,yEAAgB,SAAS,yEAAgB;AAC9F,8CAA8C,+CAA+C;AAC7F;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,yEAAgB;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,yEAAgB;AACzC;AACA,iBAAiB,oBAAoB;AACrC,yBAAyB,yEAAgB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,yEAAgB;AAC1C;AACA,iBAAiB,qBAAqB;AACtC,2BAA2B,yEAAgB;AAC3C;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,yEAAgB;AACxC,uBAAuB,yEAAgB;AACvC,2BAA2B,yEAAgB;AAC3C,cAAc,+DAAW,CAAC,yEAAgB;AAC1C;AACA;;;;;;;;;;;;;ACxKA;AAAA;AAAA;AAAA;AAAA;AAAiD;AACF;AACmC;AAClF;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,4DAAS;AAC5C,8BAA8B,+DAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,MAAM,sEAAa,oDAAoD,+DAAc;AACrF;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM,gEAAO;AACb;;AAEA;AACA,MAAM,gEAAO;AACb;;AAEA,IAAI,+DAAM;AACV,IAAI,+DAAM;AACV;;AAEA;AACA,IAAI,+DAAM;AACV,IAAI,+DAAM;AACV;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,IAAI,sEAAa,yDAAyD,+DAAc;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;;;;;;;;;;;;;AChIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2C;AACd;AAC7B;AACwD;AACS;AACjE;AACA;AAC8C;AAC9C;AACA;AACA;AACA;AACe;AACf;AACA;AACA,8BAA8B,0DAAO;AACrC;AACA,qCAAqC,mEAAW;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,sEAAa,oDAAoD,+DAAc;AACnF;;AAEA;AACA,sBAAsB,gDAAI;AAC1B;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,sEAAa,2DAA2D,+DAAc;;AAE1F;AACA;AACA,KAAK;AACL;AACA;AACA,kBAAkB,mEAAU;AAC5B,wBAAwB,mEAAU;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,8BAA8B;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxKA;AAAA;AAAA;AAAA,WAAW,cAAc;AACwB;;AAElC;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,sEAAa;AACnC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;AC3BA;AAAA;AAAO;AACP,SAAS,iCAAiC;AAC1C;AACA;AACA;AACA,oBAAoB,WAAW,gCAAgC,UAAU;AACzE;AACA;AACA,gDAAgD,YAAY;AAC5D;AACA,uDAAuD,OAAO;AAC9D,oDAAoD,KAAK;AACzD;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAAyC;;AAElC;AACP;AACA,SAAS,wFAAwF;AACjG;AACA;AACA,qCAAqC,MAAM;AAC3C,qCAAqC,OAAO;AAC5C;AACA,wCAAwC,gBAAgB;AACxD,4CAA4C,sDAAsD;AAClG,yCAAyC,kBAAkB;AAC3D;AACA,mCAAmC,WAAW;AAC9C,0CAA0C,iHAAiH;AAC3J,uCAAuC,gBAAgB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,uBAAuB,oDAAY;AAClD;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnFA;AAAA;AAAA;AAAA,WAAW,cAAc;AACgB;;AAEzC;AACA,SAAS,6BAA6B;AACtC;AACA;AACA,+GAA+G,iBAAiB;AAChI,2GAA2G,eAAe;AAC1H,+GAA+G,gBAAgB;AAC/H;AACA;AACA;AACA;AACA;AACe,uBAAuB,oDAAY;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACO;;AAEzC;AACP,SAAS,2IAA2I;;AAEpJ;AACA;;AAEA;AACA,WAAW,sEAAkB;AAC7B,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E,WAAW;AACvF,6CAA6C,UAAU;AACvD;AACA;AACA;AACA;AACA,oDAAoD,MAAM;AAC1D,4DAA4D,MAAM;AAClE;AACA;AACA,0DAA0D,OAAO;AACjE;AACA;AACA;AACA;AACA;AACA,mDAAmD,SAAS;AAC5D;AACA;AACA;AACA,mDAAmD,mBAAmB;AACtE;AACA;AACA;AACA,mDAAmD,kBAAkB;AACrE;AACA;AACA;AACA,mDAAmD,oBAAoB;AACvE;AACA;AACA;AACA,mDAAmD,sDAAsD;AACzG;AACA;AACA;AACA,mDAAmD,QAAQ;AAC3D;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,KAAK;AACL;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEe,wBAAwB,oDAAY;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtJA;AAAA;AAAA;AAAA;AAAyC;;AAElC;AACP;AACA;;AAEe,0BAA0B,oDAAY;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxBA;AAAA;AAAA;AAAyC;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,sBAAsB,oDAAY;AACjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AAAA;AAAiD;AACR;;AAElC;AACP,SAAS,QAAQ;AACjB,iBAAiB,sEAAS;AAC1B;AACA,iCAAiC,OAAO;AACxC;AACA;AACA;AACA;AACA;;AAEe,qBAAqB,oDAAY;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACxBA;AAAA;AAAA;AAAA;AAAO;AACP;AACA;;AAEA;AACA;;AAEO;AACP;AACA;;AAEA;AACA;AACO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzBA;AAAA;AAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgD;;AAEzC;AACP;AACA;AACA;;AAEO;AACP,2BAA2B,8DAAQ;AACnC;AACA;;AAEA,uBAAuB,8DAAQ;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP,2BAA2B,8DAAQ;AACnC;AACA;;AAEA;AACA;;AAEO;AACP,mDAAmD;AACnD,kCAAkC;;AAElC,+BAA+B;AAC/B;AACO;AACP,0BAA0B,8DAAQ;AAClC;AACA;;AAEA,0BAA0B,8DAAQ;AAClC;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEO;AACP,6BAA6B,8DAAQ;AACrC;AACA;;AAEA;AACA;AACA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/main.js\");\n","import {renderElement, RenderPosition} from \"./utils/render.js\";\n\nimport SiteMenu from \"./templates/menu.js\";\n// import Sorting from \"./templates/sort.js\";\n// import FilmCard from \"./templates/film-card.js\";\n// import FilmPopUp from \"./templates/pop-up.js\";\n// import ShowMoreBtn from \"./templates/show-more-btn.js\";\nimport Status from \"./templates/status.js\";\nimport MovieList from './presenter/movie-list.js';\nimport {generateFilmCard} from \"./mocks/generate-film-card.js\";\nimport {getFilters} from \"./mocks/filters.js\";\n\n\nconst FILMS_COUNT = 26;\n// const STARTING_FILMS_COUNT = 5;\nconst films = new Array(FILMS_COUNT).fill().map(generateFilmCard);\n// console.log(films);\n// const firstFilms = new Array(STARTING_FILMS_COUNT).fill().map(generateFilmCard);\nconst filters = getFilters(films);\n// let renderedFilms = STARTING_FILMS_COUNT;\n\n// const renderFilm = (container, film) => {\n//   const filmComponent = new FilmCard(film);\n//   const filmPopUpComponent = new FilmPopUp(film);\n//\n//   const onEscKeyDown = (tap) => {\n//     if (tap.keyCode === 27) {\n//       hidePopUp();\n//     }\n//   };\n//\n//\n//   const showPopUp = () => {\n//     renderElement(siteFooterElement, filmPopUpComponent.getElement(), RenderPosition.BEFOREEND);\n//     document.addEventListener(`keydown`, onEscKeyDown);\n//     // document.addEventListener(`keydown`, function popUpRemove(tap) {\n//     //   if (tap.keyCode === 27) {\n//     //     hidePopUp();\n//     //     document.removeEventListener(`keydown`, popUpRemove, false);\n//     //   }\n//     // }\n//     // );\n//   };\n//   const hidePopUp = () => {\n//     console.log(filmPopUpComponent.getElement());\n//     filmPopUpComponent.getElement().remove();\n//     // document.removeEventListener(`keydown`, popUpRemove, false);\n//     document.removeEventListener(`keydown`, onEscKeyDown);\n//   };\n//   filmComponent.setPopUpClickHandler(() => {\n//     showPopUp();\n//   });\n//   filmComponent.setPopUpClickHandler(() => {\n//     showPopUp();\n//   });\n//   filmComponent.setPopUpClickHandler(() => {\n//     showPopUp();\n//   });\n//   filmPopUpComponent.setPopUpRemoveClickHandler(() => {\n//     hidePopUp();\n//   });\n//   renderElement(container, filmComponent.getElement(), RenderPosition.AFTERBEGIN);\n// };\n//\n// // console.log(films);\n// const renderNextFilms = () => {\n//   let filmsToRender = films.slice(renderedFilms, renderedFilms + STARTING_FILMS_COUNT);\n//   console.log({\n//     renderedFilms,\n//     filmsToRender\n//   });\n//   filmsToRender.forEach((filmCard) => {\n//     renderFilm($filmsContainer, filmCard);\n//     // renderElement($filmsContainer, new FilmCard().getElement(filmCard), RenderPosition.BEFOREEND);\n//   });\n//   renderedFilms = renderedFilms + STARTING_FILMS_COUNT;\n//   // const filmCards = Array.from($filmsContainer.querySelectorAll(`article`));\n//   // console.log(filmCards);\n//   if (renderedFilms >= FILMS_COUNT) {\n//     showMoreButton.getElement().remove();\n//     showMoreButton.removeElement();\n//   }\n// };\nconst siteHeaderElement = document.querySelector(`.header`);\nconst siteMainElement = document.querySelector(`.main`);\n// const siteFooterElement = document.querySelector(`.footer`);\n// renderTemplate(siteMainElement, getMenuTemplate(filters), `afterbegin`);\nconst movieList = new MovieList();\nmovieList.init(films);\nrenderElement(siteHeaderElement, new Status(filters).getElement(), RenderPosition.BEFOREEND);\nrenderElement(siteMainElement, new SiteMenu(filters).getElement(), RenderPosition.AFTERBEGIN);\n// renderElement(siteMainElement, new Sorting().getElement(), RenderPosition.AFTERBEGIN);\n\n// const $filmsContainer = siteMainElement.querySelector(`.films-list__container`);\n\n// firstFilms.forEach((card) => {\n//   console.log(card);\n//   renderFilm($filmsContainer, card);\n//   // siteMainElement.removeChild(siteMainElement.querySelector(`.film-details`));\n//   console.log(document.querySelector(`.film-details`));\n// });\n// const showMoreButton = new ShowMoreBtn();\n//\n// renderElement(siteMainElement, showMoreButton.getElement(), RenderPosition.BEFOREEND);\n//\n// showMoreButton.setClickHandler(() => {\n//   renderNextFilms();\n// });\n// const movieList = new MovieList();\n// movieList.init(films);\n","\r\nimport {getRandomInteger} from '../utils/common.js';\r\nconst generateComment = () => {\r\n  const authors = [\r\n    `John`,\r\n    `Peter`,\r\n    `Sam`,\r\n    `Vito`,\r\n    `Donald`,\r\n  ];\r\n\r\n  const emoji = [\r\n    {\r\n      path: `./images/emoji/angry.png`,\r\n      alt: `angry`\r\n    },\r\n    {\r\n      path: `./images/emoji/puke.png`,\r\n      alt: `puke`\r\n    },\r\n    {\r\n      path: `./images/emoji/sleeping.png`,\r\n      alt: `sleeping`\r\n    },\r\n    {\r\n      path: `./images/emoji/smile.png`,\r\n      alt: `smile`\r\n    }\r\n  ];\r\n\r\n  const commentText = [\r\n    `Good film, highly recommend`,\r\n    `The best!`,\r\n    `Not bad`,\r\n    `I've seen better`\r\n  ];\r\n\r\n  return {\r\n    commentText: commentText[getRandomInteger(0, commentText.length - 1)],\r\n    emoji: emoji[getRandomInteger(0, emoji.length - 1)],\r\n    author: authors[getRandomInteger(0, authors.length - 1)],\r\n    date: `2019/12/31 23:59`\r\n  };\r\n};\r\n\r\nexport const getComments = (numberOfComments) => {\r\n  const commentsArr = [];\r\n  for (let i = 0; i <= numberOfComments; i++) {\r\n    commentsArr.push(generateComment());\r\n  }\r\n  return commentsArr;\r\n};\r\n","export const getFilters = (films) => {\r\n  const filters = {\r\n    watchlist: films.filter((film) => film.isInWatchlist),\r\n    watched: films.filter((film) => film.isWatched),\r\n    favorite: films.filter((film) => film.isFavorite)\r\n  };\r\n  return filters;\r\n};\r\n","import {getRandomInteger, getRandomFloatInteger} from '../utils/common.js';\r\nimport {getComments} from './comment.js';\r\nconst generateId = () => Date.now() + parseInt(Math.random() * 10000, 10);\r\nconst generateTitle = () => {\r\n  const titles = [\r\n    `The Man with the Golden Arm`,\r\n    `Santa Claus Conquers the Martians`,\r\n    `Popeye the Sailor Meets Sindbad the Sailor`,\r\n    `The Great Flamarion`,\r\n    `Made for Each Other`,\r\n    `Sagerbush trail`,\r\n    `The Dance of Life`,\r\n  ];\r\n  return titles[getRandomInteger(0, titles.length - 1)];\r\n};\r\n\r\nconst generatePoster = () => {\r\n  const postersNames = [\r\n    `the-dance-of-life.jpg`,\r\n    `sagebrush-trail.jpg`,\r\n    `the-man-with-the-golden-arm.jpg`,\r\n    `santa-claus-conquers-the-martians.jpg`,\r\n    `popeye-meets-sinbad.png`,\r\n    `the-man-with-the-golden-arm.jpg`,\r\n    `the-great-flamarion.jpg`,\r\n    `santa-claus-conquers-the-martians.jpg`,\r\n    `made-for-each-other.png`\r\n  ];\r\n\r\n  return postersNames[getRandomInteger(0, postersNames.length - 1)];\r\n};\r\n\r\nconst generateDescription = () => {\r\n  const sentences = [\r\n    `Lorem ipsum dolor sit amet, consectetur adipiscing elit.`,\r\n    `Cras aliquet varius magna, non porta ligula feugiat eget.`,\r\n    `Fusce tristique felis at fermentum pharetra.`,\r\n    `Aliquam id orci ut lectus varius viverra.`,\r\n    `Nullam nunc ex, convallis sed finibus eget, sollicitudin eget ante.`,\r\n    `Phasellus eros mauris, condimentum sed nibh vitae, sodales efficitur ipsum.`,\r\n    `Sed blandit, eros vel aliquam faucibus, purus ex euismod diam, eu luctus nunc ante ut dui.`,\r\n    `Sed sed nisi sed augue convallis suscipit in sed felis.`,\r\n    `Aliquam erat volutpat.`,\r\n    `Nunc fermentum tortor ac porta dapibus.`,\r\n    `In rutrum ac purus sit amet tempus.`\r\n  ];\r\n  const numberOfSentences = getRandomInteger(0, 5);\r\n  const description = new Set();\r\n\r\n  for (let i = 0; i < numberOfSentences; i++) {\r\n    description.add(sentences[getRandomInteger(0, sentences.length - 1)]);\r\n  }\r\n\r\n  return Array.from(description).join(` `);\r\n};\r\n\r\nconst generateRating = (a = 0, b = 1) => {\r\n  return getRandomFloatInteger(a, b);\r\n};\r\n\r\nconst generateFilmReleaseYear = () => {\r\n  return getRandomInteger(1920, 2020);\r\n};\r\n\r\nconst generateFilmDuration = () => {\r\n  const hours = getRandomInteger(1, 3);\r\n  const minutes = getRandomInteger(1, 59);\r\n  return {\r\n    hours,\r\n    minutes\r\n  };\r\n};\r\n\r\nconst generateGenres = () => {\r\n  const genres = [\r\n    `Musical`,\r\n    `Western`,\r\n    `Drama`,\r\n    `Comedy`,\r\n    `Horror`,\r\n    `Documentary`\r\n  ];\r\n  const numberOfGenres = getRandomInteger(1, 4);\r\n  const genresSet = new Set();\r\n  for (let i = 0; i < numberOfGenres; i++) {\r\n    genresSet.add(genres[getRandomInteger(0, genres.length - 1)]);\r\n  }\r\n  return Array.from(genresSet);\r\n};\r\n\r\nconst genereateCountry = () => {\r\n  const countries = [\r\n    `USA`,\r\n    `Germany`,\r\n    `UK`,\r\n    `France`,\r\n    `China`,\r\n    `USSR`\r\n  ];\r\n  return countries[getRandomInteger(0, countries.length - 1)];\r\n};\r\n\r\nconst generateDateOfRelease = () => {\r\n  const releaseDate = new Date();\r\n  releaseDate.setHours(23, 59, 59, 999);\r\n  releaseDate.setFullYear(generateFilmReleaseYear(), getRandomInteger(0, 11), getRandomInteger(1, 31));\r\n  return releaseDate.toLocaleString(`en-GB`, {day: `numeric`, month: `long`, year: `numeric`});\r\n};\r\n\r\nconst generateCensorAge = () => {\r\n  const limits = [\r\n    `12+`,\r\n    `16+`,\r\n    `18+`,\r\n  ];\r\n\r\n  return limits[getRandomInteger(0, limits.length - 1)];\r\n};\r\n\r\nconst generateActors = () => {\r\n  const actors = [\r\n    `Erich von Stroheim`,\r\n    `Mary Beth Hughes`,\r\n    ` Dan Duryea`,\r\n  ];\r\n  const numberOfActors = getRandomInteger(1, 3);\r\n  const actorsSet = new Set();\r\n  for (let i = 0; i < numberOfActors; i++) {\r\n    actorsSet.add(actors[getRandomInteger(0, actors.length - 1)]);\r\n  }\r\n  return Array.from(actorsSet);\r\n};\r\n\r\nconst generateWriters = () => {\r\n  const writers = [\r\n    `Anne Wigton`,\r\n    `Heinz Herald`,\r\n    `Richard Weil`,\r\n  ];\r\n  const numberOfWriters = getRandomInteger(1, 3);\r\n  const writersSet = new Set();\r\n  for (let i = 0; i < numberOfWriters; i++) {\r\n    writersSet.add(writers[getRandomInteger(0, writers.length - 1)]);\r\n  }\r\n  return Array.from(writersSet);\r\n};\r\n\r\nexport const generateFilmCard = () => {\r\n  return {\r\n    id: generateId(),\r\n    title: generateTitle(),\r\n    posterName: generatePoster(),\r\n    description: generateDescription(),\r\n    rating: generateRating(0, 10),\r\n    filmReleaseYear: generateFilmReleaseYear(),\r\n    filmDuration: generateFilmDuration(),\r\n    genres: generateGenres(),\r\n    director: `Anthony Mann`,\r\n    writers: generateWriters(),\r\n    actors: generateActors(),\r\n    country: genereateCountry(),\r\n    filmReleasefullDate: generateDateOfRelease(),\r\n    censorAge: generateCensorAge(),\r\n    isFavorite: Boolean(getRandomInteger(0, 1)),\r\n    isWatched: Boolean(getRandomInteger(0, 1)),\r\n    isInWatchList: Boolean(getRandomInteger(0, 1)),\r\n    comments: getComments(getRandomInteger(0, 5))\r\n  };\r\n};\r\n","import FilmCard from \"../templates/film-card.js\";\r\nimport FilmPopUp from \"../templates/pop-up.js\";\r\nimport {renderElement, RenderPosition, remove, replace} from \"../utils/render.js\";\r\nconst siteMainElement = document.querySelector(`.main`);\r\nexport default class Film {\r\n  constructor(changeData) {\r\n    this._changeData = changeData;\r\n    console.log(this._changeData);\r\n    this._handleWatchlistClick = this._handleWatchListClick.bind(this);\r\n    this._handleWatchedClick = this._handleWatchedClick.bind(this);\r\n    this._handleFavoriteClick = this._handleFavoriteClick.bind(this);\r\n    // this._films = films.slice();\r\n    this._filmPopUpComponent = null;\r\n    this._filmComponent = null;\r\n  }\r\n  init(container, film) {\r\n    this._film = film;\r\n    console.log(this._film);\r\n    this._container = container;\r\n    const prevfilmComponent = this._filmComponent;\r\n    const prevfilmPopUpComponent = this._filmPopUpComponent;\r\n    this._filmPopUpComponent = new FilmPopUp(this._film);\r\n    this._filmComponent = new FilmCard(this._film);\r\n    // this._renderFilmCard(container, film);\r\n    this._filmComponent.setWatchListClickHandler(this._handleWatchListClick);\r\n    this._filmComponent.setWatchedClickHandler(this._handleWatchedClick);\r\n    this._filmComponent.setFavoriteClickHandler(this._handleFavoriteClick);\r\n    this._filmComponent.setPopUpClickHandler(() => {\r\n      // this._handleWatchListClick();\r\n      this._showPopUp();\r\n    });\r\n    this._filmPopUpComponent.setPopUpRemoveClickHandler(() => {\r\n      this._hidePopUp();\r\n    });\r\n    if (prevfilmComponent === null || prevfilmPopUpComponent === null) {\r\n      // this._renderFilmCard(container);\r\n      renderElement(this._container, this._filmComponent.getElement(), RenderPosition.AFTERBEGIN);\r\n      return;\r\n    }\r\n\r\n    // Проверка на наличие в DOM необходима,\r\n    // чтобы не пытаться заменить то, что не было отрисовано\r\n    console.log(prevfilmComponent);\r\n    if (this._container.getElement().contains(prevfilmComponent.getElement())) {\r\n      replace(this._filmComponent, prevfilmComponent);\r\n    }\r\n\r\n    if (this._container.getElement().contains(prevfilmPopUpComponent.getElement())) {\r\n      replace(this._filmPopUpComponent, prevfilmPopUpComponent);\r\n    }\r\n\r\n    remove(prevfilmComponent);\r\n    remove(prevfilmPopUpComponent);\r\n  }\r\n\r\n  destroy() {\r\n    remove(this._filmComponent);\r\n    remove(this._filmPopUpComponent);\r\n  }\r\n\r\n\r\n  // _renderFilmCard(container) {\r\n  //   // const filmComponent = new FilmCard(film);\r\n  //   // const filmPopUpComponent = new FilmPopUp(film);\r\n  //   // this._filmComponent = new FilmCard(film);\r\n  //   // this._filmPopUpComponent = new FilmPopUp(film);\r\n  //\r\n  // _onEscKeyDown(tap) {\r\n  //   if (tap.keyCode === 27) {\r\n  //     this._hidePopUp();\r\n  //   }\r\n  // }\r\n  _handleWatchListClick() {\r\n    // console.log(`ss`);\r\n    this._changeData(\r\n        Object.assign(\r\n            {},\r\n            this._film,\r\n            {\r\n              isInWatchlist: !this._film.isInWatchList\r\n            }\r\n        )\r\n    );\r\n  }\r\n  _handleWatchedClick() {\r\n    // console.log(this._film);\r\n    this._changeData(\r\n        Object.assign(\r\n            {},\r\n            this._film,\r\n            {\r\n              isWatched: !this._film.isWatched\r\n            }\r\n        )\r\n    );\r\n  }\r\n  _handleFavoriteClick() {\r\n    // console.log(`aa`);\r\n    // console.log(this._film.isFavorite);\r\n\r\n    this._changeData(\r\n        Object.assign(\r\n            {},\r\n            this._film,\r\n            {\r\n              isFavorite: !this._film.isFavorite\r\n            }\r\n        )\r\n    );\r\n  }\r\n\r\n\r\n  _showPopUp() {\r\n    renderElement(siteMainElement, this._filmPopUpComponent.getElement(), RenderPosition.BEFOREEND);\r\n    // document.addEventListener(`keydown`, this._onEscKeyDown());\r\n  }\r\n  _hidePopUp() {\r\n    this._filmPopUpComponent.getElement().remove();\r\n    // document.removeEventListener(`keydown`, this._onEscKeyDown());\r\n  }\r\n  // this._filmComponent.setPopUpClickHandler(() => {\r\n  //   showPopUp();\r\n  // });\r\n  // this._filmPopUpComponent.setPopUpRemoveClickHandler(() => {\r\n  //   hidePopUp();\r\n  // });\r\n  // renderElement(container, this._filmComponent.getElement(), RenderPosition.AFTERBEGIN);\r\n//   }\r\n}\r\n","import Sorting from \"../templates/sort.js\";\r\nimport Film from './film.js';\r\n// import FilmPopUp from \"../templates/pop-up.js\";\r\nimport ShowMoreBtn from \"../templates/show-more-btn.js\";\r\nimport {renderElement, RenderPosition} from \"../utils/render.js\";\r\nconst siteMainElement = document.querySelector(`.main`);\r\nconst $filmsContainer = siteMainElement.querySelector(`.films-list__container`);\r\nimport {updateItem} from \"../utils/common.js\";\r\n// const Movie = new Film();\r\nconst FILMS_COUNT = 26;\r\nconst STARTING_FILMS_COUNT = 5;\r\nlet renderedFilms = STARTING_FILMS_COUNT;\r\nexport default class MovieList {\r\n  constructor() {\r\n    this._filmPresenter = {};\r\n    this._sortComponent = new Sorting();\r\n    // this._popUpComponent = new FilmPopUp();\r\n    this._showMoreBtnComponent = new ShowMoreBtn();\r\n    this._handleFilmChange = this._handleFilmChange.bind(this);\r\n  }\r\n  init(films) {\r\n    this._films = films.slice();\r\n    this._sourceFilms = films.slice();\r\n    this._renderContainer();\r\n  }\r\n  _renderSort() {\r\n    renderElement(siteMainElement, this._sortComponent.getElement(), RenderPosition.AFTERBEGIN);\r\n  }\r\n\r\n  _renderFilmCard(container, film) {\r\n    const Movie = new Film(this._handleFilmChange);\r\n    Movie.init(container, film);\r\n    this._filmPresenter[film.id] = Movie;\r\n    // console.log(this._filmPresenter);\r\n  }\r\n\r\n\r\n  _renderFilms() {\r\n    const firstFilms = this._films.slice(0, STARTING_FILMS_COUNT);\r\n    firstFilms.forEach((card) => {\r\n      // console.log(card);\r\n      this._renderFilmCard($filmsContainer, card);\r\n    });\r\n  }\r\n  _renderPopUp() {\r\n\r\n  }\r\n  _renderShowMoreBtn() {\r\n    const renderNextFilms = () => {\r\n      let filmsToRender = this._films.slice(renderedFilms, renderedFilms + STARTING_FILMS_COUNT);\r\n      console.log({\r\n        renderedFilms,\r\n        filmsToRender\r\n      });\r\n      filmsToRender.forEach((filmCard) => {\r\n        this._renderFilmCard($filmsContainer, filmCard);\r\n      });\r\n      renderedFilms = renderedFilms + STARTING_FILMS_COUNT;\r\n      if (renderedFilms >= FILMS_COUNT) {\r\n        this._showMoreBtnComponent.getElement().remove();\r\n        this._showMoreBtnComponent.removeElement();\r\n      }\r\n    };\r\n\r\n    renderElement(siteMainElement, this._showMoreBtnComponent.getElement(), RenderPosition.BEFOREEND);\r\n\r\n    this._showMoreBtnComponent.setClickHandler(() => {\r\n      renderNextFilms();\r\n    });\r\n  }\r\n  _handleFilmChange(updatedFilm) {\r\n    this._films = updateItem(this._films, updatedFilm);\r\n    this._sourceFilms = updateItem(this._sourceFilms, updatedFilm);\r\n    this._filmPresenter[updatedFilm.id].init(updatedFilm);\r\n    console.log(`updatedFilm`);\r\n  }\r\n  _clearFilmList() {\r\n    Object\r\n    .values(this._filmPresenter)\r\n    .forEach((presenter) => presenter.destroy());\r\n    this._filmPresenter = {};\r\n  }\r\n  _renderContainer() {\r\n    this._renderSort();\r\n    //\r\n    // this._renderFilmCard(0, STARTING_FILMS_COUNT);\r\n    this._renderFilms();\r\n    //\r\n    this._renderShowMoreBtn();\r\n  }\r\n}\r\n\r\n// import Sorting from \"../templates/sort.js\";\r\n// import Film from './film.js';\r\n// // import FilmPopUp from \"../templates/pop-up.js\";\r\n// import ShowMoreBtn from \"../templates/show-more-btn.js\";\r\n// import {renderElement, RenderPosition} from \"../utils/render.js\";\r\n// const siteMainElement = document.querySelector(`.main`);\r\n// const $filmsContainer = siteMainElement.querySelector(`.films-list__container`);\r\n// // const Movie = new Film();\r\n// const FILMS_COUNT = 26;\r\n// const STARTING_FILMS_COUNT = 5;\r\n// let renderedFilms = STARTING_FILMS_COUNT;\r\n// export default class MovieList {\r\n//   constructor() {\r\n//     this._filmPresenter = {};\r\n//     this._sortComponent = new Sorting();\r\n//     // this._popUpComponent = new FilmPopUp();\r\n//     this._showMoreBtnComponent = new ShowMoreBtn();\r\n//   }\r\n//   init(films) {\r\n//     this._films = films.slice();\r\n//     this._renderContainer();\r\n//   }\r\n//   _renderSort() {\r\n//     renderElement(siteMainElement, this._sortComponent.getElement(), RenderPosition.AFTERBEGIN);\r\n//   }\r\n//\r\n//   _renderFilmCard(container, film) {\r\n//     const Movie = new Film();\r\n//     Movie.init(container, film);\r\n//     this._filmPresenter[film.id] = Movie;\r\n//     console.log(this._filmPresenter);\r\n//   }\r\n//\r\n//\r\n//   _renderFilms() {\r\n//     const firstFilms = this._films.slice(0, STARTING_FILMS_COUNT);\r\n//     firstFilms.forEach((card) => {\r\n//       console.log(card);\r\n//       this._renderFilmCard($filmsContainer, card);\r\n//     });\r\n//   }\r\n//   _renderPopUp() {\r\n//\r\n//   }\r\n//   _renderShowMoreBtn() {\r\n//     const renderNextFilms = () => {\r\n//       let filmsToRender = this._films.slice(renderedFilms, renderedFilms + STARTING_FILMS_COUNT);\r\n//       console.log({\r\n//         renderedFilms,\r\n//         filmsToRender\r\n//       });\r\n//       filmsToRender.forEach((filmCard) => {\r\n//         this._renderFilmCard($filmsContainer, filmCard);\r\n//       });\r\n//       renderedFilms = renderedFilms + STARTING_FILMS_COUNT;\r\n//       if (renderedFilms >= FILMS_COUNT) {\r\n//         this._showMoreBtnComponent.getElement().remove();\r\n//         this._showMoreBtnComponent.removeElement();\r\n//       }\r\n//     };\r\n//\r\n//     renderElement(siteMainElement, this._showMoreBtnComponent.getElement(), RenderPosition.BEFOREEND);\r\n//\r\n//     this._showMoreBtnComponent.setClickHandler(() => {\r\n//       renderNextFilms();\r\n//     });\r\n//   }\r\n//   // }\r\n//   _renderContainer() {\r\n//     this._renderSort();\r\n//\r\n//     // this._renderFilmCard(0, STARTING_FILMS_COUNT);\r\n//     this._renderFilms();\r\n//\r\n//     this._renderShowMoreBtn();\r\n//   }\r\n// }\r\n","// import {createElement} from \"../utils/utils.js\";\r\nimport {createElement} from \"../utils/render.js\";\r\n\r\nexport default class Abstract {\r\n  constructor() {\r\n    if (new.target === Abstract) {\r\n      throw new Error(`Can't instantiate Abstract, only concrete one.`);\r\n    }\n    this._element = null;\n    this._callback = {};\n  }\r\n  getTemplate() {\r\n    throw new Error(`Abstract method not implemented: getTemplate`);\r\n  }\r\n\r\n  getElement() {\r\n    if (!this._element) {\r\n      this._element = createElement(this.getTemplate());\r\n    }\r\n\r\n    return this._element;\r\n  }\r\n\r\n  removeElement() {\r\n    this._element = null;\r\n\r\n  }\r\n}\r\n","export const getCommentTemplate = (comment) => {\r\n  const {commentText, emoji, author, date} = comment;\r\n  return (`\r\n    <li class=\"film-details__comment\">\r\n      <span class=\"film-details__comment-emoji\">\r\n        <img src=\"${emoji.path}\" width=\"55\" height=\"55\" alt=\"${emoji.alt}\">\r\n      </span>\r\n      <div>\r\n        <p class=\"film-details__comment-text\">${commentText}</p>\r\n        <p class=\"film-details__comment-info\">\r\n          <span class=\"film-details__comment-author\">${author}</span>\r\n          <span class=\"film-details__comment-day\">${date}</span>\r\n          <button class=\"film-details__comment-delete\">Delete</button>\r\n        </p>\r\n      </div>\r\n    </li>\r\n  `);\r\n};\r\n","import AbstractView from \"./abstract.js\";\r\n\r\nexport const createFilmCardTemplate = (film) => {\r\n  const MAX_DESCRIPTION_LENGTH = 139;\r\n  const {title, rating, filmReleaseYear, filmDuration, genres, posterName, description, comments} = film;\r\n  const stringifyedGenres = genres.join();\r\n  return (`<article class=\"film-card\">\r\n      <h3 class=\"film-card__title\">${title}</h3>\r\n      <p class=\"film-card__rating\">${rating}</p>\r\n      <p class=\"film-card__info\">\r\n        <span class=\"film-card__year\">${filmReleaseYear}</span>\r\n        <span class=\"film-card__duration\">${filmDuration.hours + `h` + filmDuration.minutes + `m`}</span>\r\n        <span class=\"film-card__genre\">${stringifyedGenres}</span>\r\n      </p>\r\n      <img src=\"./images/posters/${posterName}\" alt=\"\" class=\"film-card__poster\">\r\n      <p class=\"film-card__description\">${description.length > MAX_DESCRIPTION_LENGTH ? description.slice(0, MAX_DESCRIPTION_LENGTH) + `...` : description}</p>\r\n      <a class=\"film-card__comments\">${comments.length} comments</a>\r\n      <form class=\"film-card__controls\">\r\n        <button class=\"film-card__controls-item button film-card__controls-item--add-to-watchlist\">Add to watchlist</button>\r\n        <button class=\"film-card__controls-item button film-card__controls-item--mark-as-watched\">Mark as watched</button>\r\n        <button class=\"film-card__controls-item button film-card__controls-item--favorite\">Mark as favorite</button>\r\n      </form>\r\n    </article>\r\n  `)\r\n  ;\r\n};\r\n\r\nexport default class FilmCard extends AbstractView {\r\n  constructor(film) {\r\n    super();\r\n    this._film = film;\r\n    this._clickHandler = this._clickHandler.bind(this);\r\n\r\n\r\n    this._watchlistClickHandler = this._watchListClickHandler.bind(this);\r\n    this._watchedClickHandler = this._watchedClickHandler.bind(this);\r\n    this._favoriteClickHandler = this._favoriteClickHandler.bind(this);\r\n  // this._handleWatchlistClick = this._handleWatchlistClick.bind(this);\r\n  // this._handleWatchedClick = this._handleWatchedClick.bind(this);\r\n  // this._handleFavoriteClick = this._handleFavoriteClick.bind(this);\r\n  }\r\n\r\n  getTemplate() {\r\n    return createFilmCardTemplate(this._film);\r\n  }\r\n\r\n  _clickHandler(evt) {\r\n    evt.preventDefault();\r\n    this._callback.editClick();\r\n  }\r\n\r\n  setPopUpClickHandler(callback) {\r\n    this._callback.editClick = callback;\r\n    this.getElement().querySelector(`.film-card__poster`).addEventListener(`click`, this._clickHandler);\r\n    this.getElement().querySelector(`.film-card__title`).addEventListener(`click`, this._clickHandler);\r\n    this.getElement().querySelector(`.film-card__comments`).addEventListener(`click`, this._clickHandler);\r\n  }\r\n  _watchListClickHandler(evt) {\r\n    evt.preventDefault();\r\n    this._callback.watchListClick();\r\n  }\r\n\r\n  _watchedClickHandler(evt) {\r\n    evt.preventDefault();\r\n    console.log(this.callback);\r\n    this._callback.watchedClick();\r\n  }\r\n  _favoriteClickHandler(evt) {\r\n    evt.preventDefault();\r\n    this._callback.favoriteClick();\r\n  }\r\n  setWatchListClickHandler(callback) {\r\n    this._callback.watchListClick = callback;\r\n    this.getElement().querySelector(`.film-card__controls-item--add-to-watchlist`).addEventListener(`click`, this._watchListClickHandler);\r\n  }\r\n  setWatchedClickHandler(callback) {\r\n    this._callback.watchedClick = callback;\r\n    this.getElement().querySelector(`.film-card__controls-item--mark-as-watched`).addEventListener(`click`, this._watchedClickHandler);\r\n  }\r\n  setFavoriteClickHandler(callback) {\r\n    this._callback.favoriteClick = callback;\r\n    this.getElement().querySelector(`.film-card__controls-item--favorite`).addEventListener(`click`, this._favoriteClickHandler);\r\n  }\r\n}\r\n","// import {createElement} from \"../utils/utils.js\";\r\nimport AbstractView from \"./abstract.js\";\r\n\r\nconst createMenuTemplate = (filters) => {\r\n  const {watchlist, watched, favorite} = filters;\r\n  return (`<div><nav class=\"main-navigation\">\r\n      <a href=\"#all\" class=\"main-navigation__item main-navigation__item--active\">All movies</a>\r\n      <a href=\"#watchlist\" class=\"main-navigation__item\">Watchlist <span class=\"main-navigation__item-count\">${watchlist.length}</span></a>\r\n      <a href=\"#history\" class=\"main-navigation__item\">History <span class=\"main-navigation__item-count\">${watched.length}</span></a>\r\n      <a href=\"#favorites\" class=\"main-navigation__item\">Favorites <span class=\"main-navigation__item-count\">${favorite.length}</span></a>\r\n      <a href=\"#stats\" class=\"main-navigation__item main-navigation__item--additional\">Stats</a>\r\n    </nav>\r\n    </div>\r\n  `);\r\n};\r\nexport default class SiteMenu extends AbstractView {\r\n  constructor(filters) {\r\n    super();\r\n    this._filters = filters;\r\n    // this._element = null;\r\n  }\r\n\r\n  getTemplate() {\r\n    return createMenuTemplate(this._filters);\r\n  }\r\n}\r\n","import AbstractView from \"./abstract.js\";\r\nimport {getCommentTemplate} from \"./comment.js\";\r\n\r\nexport const createPopUpTemplate = (film) => {\r\n  const {title, posterName, rating, director, writers, actors, filmReleasefullDate, filmDuration, country, genres, censorAge, description, comments} = film;\r\n\r\n  const stringifyedWriters = writers.join();\r\n  const stringifyedActors = actors.join();\r\n\r\n  const commentsList = comments.map((comment) => {\r\n    return getCommentTemplate(comment);\r\n  }).join(`\\n`);\r\n\r\n  return (`<section class=\"film-details\">\r\n      <form class=\"film-details__inner\" action=\"\" method=\"get\">\r\n        <div class=\"form-details__top-container\">\r\n          <div class=\"film-details__close\">\r\n            <button class=\"film-details__close-btn\" type=\"button\">close</button>\r\n          </div>\r\n          <div class=\"film-details__info-wrap\">\r\n            <div class=\"film-details__poster\">\r\n              <img class=\"film-details__poster-img\" src=\"./images/posters/${posterName}\" alt=\"\">\r\n              <p class=\"film-details__age\">${censorAge}</p>\r\n            </div>\r\n            <div class=\"film-details__info\">\r\n              <div class=\"film-details__info-head\">\r\n                <div class=\"film-details__title-wrap\">\r\n                  <h3 class=\"film-details__title\">${title}</h3>\r\n                  <p class=\"film-details__title-original\">${title}</p>\r\n                </div>\r\n                <div class=\"film-details__rating\">\r\n                  <p class=\"film-details__total-rating\">${rating}</p>\r\n                </div>\r\n              </div>\r\n              <table class=\"film-details__table\">\r\n                <tr class=\"film-details__row\">\r\n                  <td class=\"film-details__term\">Director</td>\r\n                  <td class=\"film-details__cell\">${director}</td>\r\n                </tr>\r\n                <tr class=\"film-details__row\">\r\n                  <td class=\"film-details__term\">Writers</td>\r\n                  <td class=\"film-details__cell\">${stringifyedWriters}</td>\r\n                </tr>\r\n                <tr class=\"film-details__row\">\r\n                  <td class=\"film-details__term\">Actors</td>\r\n                  <td class=\"film-details__cell\">${stringifyedActors}</td>\r\n                </tr>\r\n                <tr class=\"film-details__row\">\r\n                  <td class=\"film-details__term\">Release Date</td>\r\n                  <td class=\"film-details__cell\">${filmReleasefullDate}</td>\r\n                </tr>\r\n                <tr class=\"film-details__row\">\r\n                  <td class=\"film-details__term\">Runtime</td>\r\n                  <td class=\"film-details__cell\">${filmDuration.hours + `h` + filmDuration.minutes + `m`}</td>\r\n                </tr>\r\n                <tr class=\"film-details__row\">\r\n                  <td class=\"film-details__term\">Country</td>\r\n                  <td class=\"film-details__cell\">${country}</td>\r\n                </tr>\r\n                <tr class=\"film-details__row\">\r\n                  <td class=\"film-details__term\">Genres</td>\r\n                  <td class=\"film-details__cell\">\r\n    ${genres.map((genreName) => {\r\n      return `<span class=\"film-details__genre\">` + genreName + `</span>`;\r\n    }).join(``)}\r\n                </tr>\r\n              </table>\r\n              <p class=\"film-details__film-description\">\r\n                ${description}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <section class=\"film-details__controls\">\r\n            <input type=\"checkbox\" class=\"film-details__control-input visually-hidden\" id=\"watchlist\" name=\"watchlist\">\r\n            <label for=\"watchlist\" class=\"film-details__control-label film-details__control-label--watchlist\">Add to watchlist</label>\r\n            <input type=\"checkbox\" class=\"film-details__control-input visually-hidden\" id=\"watched\" name=\"watched\">\r\n            <label for=\"watched\" class=\"film-details__control-label film-details__control-label--watched\">Already watched</label>\r\n            <input type=\"checkbox\" class=\"film-details__control-input visually-hidden\" id=\"favorite\" name=\"favorite\">\r\n            <label for=\"favorite\" class=\"film-details__control-label film-details__control-label--favorite\">Add to favorites</label>\r\n          </section>\r\n        </div>\r\n        <div class=\"form-details__middle-container\">\r\n        </div>\r\n        <div class=\"form-details__bottom-container\">\r\n          <section class=\"film-details__comments-wrap\">\r\n            <h3 class=\"film-details__comments-title\">Comments <span class=\"film-details__comments-count\">0</span></h3>\r\n\r\n            <ul class=\"film-details__comments-list\">\r\n            ${commentsList}\r\n            </ul>\r\n\r\n            <div class=\"film-details__new-comment\">\r\n              <div for=\"add-emoji\" class=\"film-details__add-emoji-label\">\r\n                <img src=\"images/emoji/smile.png\" width=\"55\" height=\"55\" alt=\"emoji-smile\">\r\n              </div>\r\n\r\n              <label class=\"film-details__comment-label\">\r\n                <textarea class=\"film-details__comment-input\" placeholder=\"Select reaction below and write comment here\" name=\"comment\">Great movie!</textarea>\r\n              </label>\r\n\r\n              <div class=\"film-details__emoji-list\">\r\n                <input class=\"film-details__emoji-item visually-hidden\" name=\"comment-emoji\" type=\"radio\" id=\"emoji-smile\" value=\"smile\" checked>\r\n                <label class=\"film-details__emoji-label\" for=\"emoji-smile\">\r\n                  <img src=\"./images/emoji/smile.png\" width=\"30\" height=\"30\" alt=\"emoji\">\r\n                </label>\r\n\r\n                <input class=\"film-details__emoji-item visually-hidden\" name=\"comment-emoji\" type=\"radio\" id=\"emoji-sleeping\" value=\"sleeping\">\r\n                <label class=\"film-details__emoji-label\" for=\"emoji-sleeping\">\r\n                  <img src=\"./images/emoji/sleeping.png\" width=\"30\" height=\"30\" alt=\"emoji\">\r\n                </label>\r\n\r\n                <input class=\"film-details__emoji-item visually-hidden\" name=\"comment-emoji\" type=\"radio\" id=\"emoji-puke\" value=\"puke\">\r\n                <label class=\"film-details__emoji-label\" for=\"emoji-puke\">\r\n                  <img src=\"./images/emoji/puke.png\" width=\"30\" height=\"30\" alt=\"emoji\">\r\n                </label>\r\n\r\n                <input class=\"film-details__emoji-item visually-hidden\" name=\"comment-emoji\" type=\"radio\" id=\"emoji-angry\" value=\"angry\">\r\n                <label class=\"film-details__emoji-label\" for=\"emoji-angry\">\r\n                  <img src=\"./images/emoji/angry.png\" width=\"30\" height=\"30\" alt=\"emoji\">\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n\r\n      </form>\r\n    </section>\r\n  `);\r\n};\r\n\r\nexport default class FilmPopUp extends AbstractView {\r\n  constructor(film) {\r\n    super();\r\n    this._film = film;\r\n    this._clickHandler = this._clickHandler.bind(this);\r\n  }\r\n\r\n  getTemplate() {\r\n    return createPopUpTemplate(this._film);\r\n  }\r\n\r\n  _clickHandler(evt) {\r\n    evt.preventDefault();\r\n    this._callback.editClick();\r\n  }\r\n\r\n  setPopUpRemoveClickHandler(callback) {\r\n    this._callback.editClick = callback;\r\n    this.getElement().querySelector(`.film-details__close-btn`).addEventListener(`click`, this._clickHandler);\r\n  }\r\n}\r\n","import AbstractView from \"./abstract.js\";\r\n\r\nexport const createShowMoreBtnTemplate = () => {\r\n  return (`<button class=\"films-list__show-more\">Show more</button>`);\r\n};\r\n\r\nexport default class ShowMoreBtn extends AbstractView {\r\n  constructor() {\r\n    super();\r\n    this._clickHandler = this._clickHandler.bind(this);\r\n  }\r\n  getTemplate() {\r\n    return createShowMoreBtnTemplate();\r\n  }\r\n\r\n  _clickHandler(evt) {\r\n    evt.preventDefault();\r\n    this._callback.click();\r\n  }\r\n\r\n  setClickHandler(callback) {\r\n    this._callback.click = callback;\r\n    this.getElement().addEventListener(`click`, this._clickHandler);\r\n  }\r\n}\r\n","import AbstractView from \"./abstract.js\";\r\n\r\nconst createFiltersTemplate = () => {\r\n  return (`<ul class=\"sort\">\r\n      <li><a href=\"#\" class=\"sort__button sort__button--active\">Sort by default</a></li>\r\n      <li><a href=\"#\" class=\"sort__button\">Sort by date</a></li>\r\n      <li><a href=\"#\" class=\"sort__button\">Sort by rating</a></li>\r\n    </ul>\r\n    </div>\r\n  `);\r\n};\r\nexport default class Sorting extends AbstractView {\r\n  constructor() {\r\n    super();\r\n    // this._filters = filters;\r\n    // this._element = null;\r\n  }\r\n\r\n  getTemplate() {\r\n    return createFiltersTemplate(this._filters);\r\n  }\r\n}\r\n","import {getStatus} from \"../utils/get-status.js\";\r\nimport AbstractView from \"./abstract.js\";\r\n\r\nexport const createProfileStatusTemplate = (filters) => {\r\n  const {watched} = filters;\r\n  const status = getStatus(watched);\r\n  return (`<section class=\"header__profile profile\">\r\n    <p class=\"profile__rating\">${status}</p>\r\n    <img class=\"profile__avatar\" src=\"images/bitmap@2x.png\" alt=\"Avatar\" width=\"35\" height=\"35\">\r\n  </section>\r\n  </div>\r\n  `);\r\n};\r\n\r\nexport default class Status extends AbstractView {\r\n  constructor(filters) {\r\n    super();\r\n    this._filters = filters;\r\n    // this._element = null;\r\n  }\r\n\r\n  getTemplate() {\r\n    return createProfileStatusTemplate(this._filters);\r\n  }\r\n}\r\n","export const getRandomInteger = (a = 0, b = 1) => {\r\n  const lower = Math.ceil(Math.min(a, b));\r\n  const upper = Math.floor(Math.max(a, b));\r\n\r\n  return Math.floor(lower + Math.random() * (upper - lower + 1));\r\n};\r\n\r\nexport const getRandomFloatInteger = (a = 0, b = 1) => {\r\n  const lower = Math.ceil(Math.min(a, b));\r\n  const upper = Math.floor(Math.max(a, b));\r\n\r\n  return (lower + Math.random() * (upper - lower)).toFixed(1);\r\n};\r\nexport const updateItem = (items, update) => {\r\n  const index = items.findIndex((item) => item.id === update.id);\r\n\r\n  if (index === -1) {\r\n    return items;\r\n  }\r\n\r\n  return [\r\n    ...items.slice(0, index),\r\n    update,\r\n    ...items.slice(index + 1)\r\n  ];\r\n};\r\n","export const getStatus = (amountOfWatched) => {\r\n  let status;\r\n  if (amountOfWatched.length === 0) {\r\n    status = ``;\r\n  } else if (amountOfWatched.length <= 10) {\r\n    status = `novice`;\r\n  } else if (amountOfWatched.length >= 10 && amountOfWatched.length <= 20) {\r\n    status = `fan`;\r\n  } else {\r\n    status = `movie buff`;\r\n  }\r\n  return status;\r\n};\r\n","import Abstract from \"../templates/abstract.js\";\r\n\r\nexport const RenderPosition = {\r\n  AFTERBEGIN: `afterbegin`,\r\n  BEFOREEND: `beforeend`\r\n};\r\n\r\nexport const renderElement = (container, child, place) => {\r\n  if (container instanceof Abstract) {\r\n    container = container.getElement();\r\n  }\r\n\r\n  if (child instanceof Abstract) {\r\n    child = child.getElement();\r\n  }\r\n\r\n  switch (place) {\r\n    case RenderPosition.AFTERBEGIN:\r\n      container.prepend(child);\r\n      break;\r\n    case RenderPosition.BEFOREEND:\r\n      container.append(child);\r\n      break;\r\n  }\r\n};\r\n\r\nexport const renderTemplate = (container, template, place) => {\r\n  if (container instanceof Abstract) {\r\n    container = container.getElement();\r\n  }\r\n\r\n  container.insertAdjacentHTML(place, template);\r\n};\r\n\r\nexport const createElement = (template) => {\r\n  const newElement = document.createElement(`div`); // 1\r\n  newElement.innerHTML = template; // 2\r\n\r\n  return newElement.firstChild; // 3\r\n};\r\nexport const replace = (newChild, oldChild) => {\r\n  if (oldChild instanceof Abstract) {\r\n    oldChild = oldChild.getElement();\r\n  }\r\n\r\n  if (newChild instanceof Abstract) {\r\n    newChild = newChild.getElement();\r\n  }\r\n\r\n  const parent = oldChild.parentElement;\r\n\r\n  if (parent === null || oldChild === null || newChild === null) {\r\n    throw new Error(`Can't replace unexisting elements`);\r\n  }\r\n\r\n  parent.replaceChild(newChild, oldChild);\r\n};\r\n\r\nexport const remove = (component) => {\r\n  if (!(component instanceof Abstract)) {\r\n    throw new Error(`Can remove only components`);\r\n  }\r\n\r\n  component.getElement().remove();\r\n  component.removeElement();\r\n};\r\n"],"sourceRoot":""}